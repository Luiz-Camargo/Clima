(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{51:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),o=a.n(r),s=a(20),i=a.n(s),l=a(34),d=a(19),j=(a(46),a(37)),u=a(30),b=a(39),h=a(40),m=a(26),x=a(38),O=a(36),p=a(15),f=a(35),g=a(14),v=a(21),y=a(5);var w=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(d.a)(r,2),s=o[0],w=o[1],N=Object(c.useState)(!1),k=Object(d.a)(N,2),C=k[0],S=k[1],A=Object(c.useState)(null),I=Object(d.a)(A,2),z=I[0],B=I[1],P=Object(c.useState)(null),q=Object(d.a)(P,2),E=q[0],F=q[1];function _(){return(_=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),"1c9b3426afc85e5fc9463387eb79885f",a="http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&lang=pt&units=metric&appid=").concat("1c9b3426afc85e5fc9463387eb79885f"),e.next=5,fetch(a).then((function(e){return e.json()})).then((function(e){switch(e.cod){case"401":B("A API Key informada \xe9 inv\xe1lida!"),w(null);break;case"404":B("A cidade informada n\xe3o existe!"),w(null),n("");break;case"429":B("O uso gratuito da API foi excedido! (60 chamadas por minuto)"),w(null);break;default:w(e)}})).catch((function(e){console.error("Erro ao obter o clima: ".concat(e.message))}));case 5:S(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e="042d9f3de3564fe9a49766fbf330c0d6";function t(){return(t=Object(l.a)(i.a.mark((function t(a,c){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://api.opencagedata.com/geocode/v1/json?q=".concat(a,"+").concat(c,"&key=").concat(e),t.next=3,fetch(r).then((function(e){return e.json()})).then((function(e){n(e.results[0].components.city_district+", "+e.results[0].components.country)})).catch((function(e){console.error("N\xe3o foi poss\xedvel buscar a cidade a partir da lat/long. Erro: ".concat(e.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){!function(e,a){t.apply(this,arguments)}(e.coords.latitude,e.coords.longitude)}),(function(e){console.error(e),F(e.code)}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(j.a,{bg:"primary",children:[Object(y.jsx)(j.a.Brand,{href:"#inicio",children:"FateClima"}),Object(y.jsxs)(u.a,{className:"mr-auto",children:[Object(y.jsx)(u.a.Link,{href:"#inicio",children:"In\xedcio"}),Object(y.jsx)(u.a.Link,{href:"#contato",children:"Contato"})]}),Object(y.jsxs)(h.a,{inline:!0,children:[Object(y.jsx)(m.a,{type:"text",value:a,placeholder:"Informe a cidade...",onChange:function(e){return n(e.target.value)}}),"\xa0",Object(y.jsxs)(x.a,{variant:"secondary",onClick:function(){return function(e){return _.apply(this,arguments)}(a)},disabled:a.length<3,children:[C?Object(y.jsx)(f.a,{size:"sm",animation:"grow",variant:"light"}):Object(y.jsx)(v.d,{}),"Obter Clima"]})]})]}),Object(y.jsxs)(b.a,{children:[Object(y.jsxs)("h1",{children:[Object(y.jsx)(v.c,{}),"FateClima"]}),Object(y.jsxs)("p",{children:["Consulte o clima de qualquer cidade do mundo. ",Object(y.jsx)("br",{}),"App desenvolvido em ReactJS e integrado com a API OpenWeatherMap."]})]}),E&&Object(y.jsxs)(g.a,{onClose:function(){return F(null)},delay:5e3,autohide:!0,className:"bg-danger",children:[Object(y.jsxs)(g.a.Header,{children:[Object(y.jsx)("strong",{className:"mr-auto",children:z}),"Ops! Ocorreu um erro ao obter sua localiza\xe7\xe3o.",Object(y.jsx)("big",{children:"\u26a0\ufe0f"})]}),Object(y.jsx)(g.a.Body,{className:"bg-white text-danger",children:[{"c\xf3digo":1,texto:"N\xe3o foi dada permiss\xe3o para o sistema econtrar sua localiza\xe7\xe3o."},{"c\xf3digo":2,texto:"N\xe3o foi poss\xedvel obter a sua localiza\xe7\xe3o."},{"c\xf3digo":3,texto:"O tempo para obter sua localiza\xe7\xe3o foi expirado!"}][E].texto})]}),z&&Object(y.jsxs)(g.a,{onClose:function(){return B(null)},delay:5e3,autohide:!0,className:"bg-danger",children:[Object(y.jsxs)(g.a.Header,{children:[Object(y.jsx)("strong",{className:"mr-auto",children:z}),Object(y.jsx)("small",{children:"\ud83d\ude25"})]}),Object(y.jsx)(g.a.Body,{className:"bg-white text-danger",children:"Por favor, fa\xe7a uma nova busca."})]}),C&&Object(y.jsx)(O.a,{className:"justify-content-center",children:Object(y.jsx)(f.a,{animation:"border",variant:"primary"})}),Object(y.jsx)(O.a,{className:"justify-content-center",children:s&&Object(y.jsxs)(p.a,{bg:"primary",className:"text-center",children:[Object(y.jsxs)(p.a.Header,{children:[Object(y.jsx)("h2",{children:s.name}),Object(y.jsxs)("h3",{children:[Object(y.jsx)("strong",{children:s.main.temp}),"\u2103"]}),Object(y.jsxs)("h5",{children:["min: ",Object(y.jsx)("strong",{children:s.main.temp_min}),"\u2103 ",Object(y.jsx)(v.a,{className:"text-danger"}),"| m\xe1x: ",Object(y.jsx)("strong",{children:s.main.temp_max}),"\u2103 ",Object(y.jsx)(v.b,{className:"text-success"})," "]})]}),Object(y.jsxs)(p.a.Body,{children:[Object(y.jsx)(p.a.Img,{src:"http://openweathermap.org/img/wn/".concat(s.weather[0].icon,"@4x.png"),title:s.weather[0].description}),Object(y.jsx)(p.a.Title,{className:"text-light",children:s.weather[0].description})]}),Object(y.jsxs)(p.a.Footer,{className:"text-white",children:["Atualizado em: ",new Date(1e3*s.dt).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})]})]})})]})};o.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(w,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.c2a39376.chunk.js.map