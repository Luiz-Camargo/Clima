{"version":3,"sources":["App.js","index.js"],"names":["App","useState","cidade","setCidade","clima","setClima","obtendoClima","setObtendoClima","erro","setErro","erroGeo","setErroGeo","a","process","urlClima","fetch","then","response","json","data","cod","catch","error","console","message","useEffect","apigeo","latitude","longitude","url","results","components","city_district","country","navigator","geolocation","getCurrentPosition","position","obtemCidade","coords","code","Navbar","bg","Brand","href","Nav","className","Link","Form","inline","FormControl","type","value","placeholder","onChange","e","target","Button","variant","onClick","obtemClima","disabled","length","Spinner","size","animation","Jumbotron","Toast","onClose","delay","autohide","Header","Body","texto","Row","Card","name","main","temp","temp_min","temp_max","Img","src","weather","icon","title","description","Title","Footer","Date","dt","toLocaleString","timeZone","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c2a39376.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Jumbotron from 'react-bootstrap/Jumbotron'\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Button from 'react-bootstrap/Button'\nimport Row from 'react-bootstrap/Row'\nimport Card from 'react-bootstrap/Card'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Toast from 'react-bootstrap/Toast'\n\nimport { FaCloudversify, FaCloudRain, FaArrowDown, FaArrowUp }\n  from 'react-icons/fa'\n\nfunction App() {\n  const [cidade, setCidade] = useState('')\n  const [clima, setClima] = useState(null)\n  const [obtendoClima, setObtendoClima] = useState(false)\n  const [erro, setErro] = useState(null)\n  const [erroGeo, setErroGeo] = useState(null)\n\n  const listaErrosGeo = [{\"c칩digo\":1, \"texto\": \"N칚o foi dada permiss칚o para o sistema econtrar sua localiza칞칚o.\"},\n                         {\"c칩digo\":2, \"texto\": \"N칚o foi poss칤vel obter a sua localiza칞칚o.\"},          \n                         {\"c칩digo\":3, \"texto\": \"O tempo para obter sua localiza칞칚o foi expirado!\"}]\n\n  useEffect(()=> {\n    const apigeo = process.env.REACT_APP_APIGEO\n    if('geolocation' in navigator){\n        navigator.geolocation.getCurrentPosition(function (position) {\n         //console.log(position)\n         obtemCidade(position.coords.latitude, position.coords.longitude)\n        }, function (error){\n          console.error(error)\n          setErroGeo(error.code)\n        })\n    }\n    async function obtemCidade(latitude, longitude){\n      let url =`https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apigeo}`\n      await fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        //console.log(data)\n        setCidade(data.results[0].components.city_district+', '+data.results[0].components.country)\n      })\n      .catch(function(error){\n        console.error(`N칚o foi poss칤vel buscar a cidade a partir da lat/long. Erro: ${error.message}`)\n      })\n    }\n  },[])\n\n  async function obtemClima(cidade) {\n    setObtendoClima(true)\n    const apiweather = process.env.REACT_APP_APIWEATHER\n    let urlClima = `http://api.openweathermap.org/data/2.5/weather?q=${cidade}&lang=pt&units=metric&appid=${apiweather}`\n    await fetch(urlClima)\n      .then(response => response.json())\n      .then(data => {\n        switch (data.cod) {\n          case '401':\n            setErro('A API Key informada 칠 inv치lida!')\n            setClima(null)\n            break\n          case '404':\n            setErro('A cidade informada n칚o existe!')\n            setClima(null)\n            setCidade('')\n            break\n          case '429':\n            setErro('O uso gratuito da API foi excedido! (60 chamadas por minuto)')\n            setClima(null)\n            break\n          default:\n            setClima(data)\n        }\n      })\n      .catch(function (error) {\n        console.error(`Erro ao obter o clima: ${error.message}`)\n      })\n    setObtendoClima(false)\n  }\n\n  return (\n    <>\n      <Navbar bg=\"primary\">\n        <Navbar.Brand href=\"#inicio\">FateClima</Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"#inicio\">In칤cio</Nav.Link>\n          <Nav.Link href=\"#contato\">Contato</Nav.Link>\n        </Nav>\n        <Form inline>\n          <FormControl type=\"text\" value={cidade} placeholder=\"Informe a cidade...\"\n            onChange={e => setCidade(e.target.value)} />\n              &nbsp;\n              <Button variant=\"secondary\" onClick={() => obtemClima(cidade)} disabled={cidade.length < 3}>\n            {obtendoClima ? <Spinner size=\"sm\" animation=\"grow\" variant=\"light\" /> : <FaCloudversify />}\n            Obter Clima</Button>\n        </Form>\n      </Navbar>\n      <Jumbotron>\n        <h1><FaCloudRain />FateClima</h1>\n        <p>\n          Consulte o clima de qualquer cidade do mundo. <br></br>\n          App desenvolvido em ReactJS e integrado com a API OpenWeatherMap.\n        </p>\n      </Jumbotron>\n\n    { erroGeo &&\n      <Toast onClose={() => setErroGeo(null)} delay={5000} autohide className=\"bg-danger\">\n      <Toast.Header>\n        <strong className=\"mr-auto\">{erro}</strong>\n        Ops! Ocorreu um erro ao obter sua localiza칞칚o.\n        <big>丘멆잺</big>\n      </Toast.Header>\n      <Toast.Body className=\"bg-white text-danger\">{listaErrosGeo[erroGeo].texto}</Toast.Body>\n    </Toast>\n    }\n      { erro &&\n        <Toast onClose={() => setErro(null)} delay={5000} autohide className=\"bg-danger\">\n          <Toast.Header>\n            <strong className=\"mr-auto\">{erro}</strong>\n            <small>游땬</small>\n          </Toast.Header>\n          <Toast.Body className=\"bg-white text-danger\">Por favor, fa칞a uma nova busca.</Toast.Body>\n        </Toast>\n      }\n      {obtendoClima &&\n        <Row className=\"justify-content-center\">\n          <Spinner animation=\"border\" variant=\"primary\" />\n        </Row>\n      }\n      <Row className=\"justify-content-center\">\n        {clima &&\n          <Card bg=\"primary\" className=\"text-center\">\n            <Card.Header>\n              <h2>{clima.name}</h2>\n              <h3><strong>{clima.main.temp}</strong>&#x2103;</h3>\n              <h5>min: <strong>{clima.main.temp_min}</strong>&#x2103; <FaArrowDown className=\"text-danger\" />\n                | m치x: <strong>{clima.main.temp_max}</strong>&#x2103; <FaArrowUp className=\"text-success\" /> </h5>\n            </Card.Header>\n            <Card.Body>\n              <Card.Img src={`http://openweathermap.org/img/wn/${clima.weather[0].icon}@4x.png`}\n                title={clima.weather[0].description} />\n              <Card.Title className=\"text-light\">{clima.weather[0].description}</Card.Title>\n            </Card.Body>\n            <Card.Footer className=\"text-white\">\n              Atualizado em: {new Date(clima.dt * 1000).toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' })}\n            </Card.Footer>\n          </Card>\n        }\n      </Row>\n    </>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}